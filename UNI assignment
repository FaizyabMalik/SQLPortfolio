CREATE TABLE MEMBER
( 
Member_ID NUMBER(10) NOT NULL,
Member_FirstName VARCHAR2(50),
Member_LastName VARCHAR2(50),
Member_DOB VARCHAR2(50),
Member_Gender VARCHAR2(10),
Member_StreetNumber NUMBER(10),
Member_Suburb VARCHAR2(20),
Member_State VARCHAR2(10),
Member_PostCode NUMBER(10), 
Member_Mobile NUMBER(10),
Member_Email VARCHAR2(50),
Member_EmergencyContact VARCHAR2(50),
Member_EmergencyMobile NUMBER(10),
Member_EContactRelationship VARCHAR2(50),
Member_HighCholesterol VARCHAR2(50),
Member_Diabetes VARCHAR2(50),
Member_CardivascularCondition VARCHAR2(50),
Member_ParicipationStatus VARCHAR2(50),
CONSTRAINT MEMBER_pk PRIMARY KEY (Member_ID)
);

CREATE TABLE EVENT
( 
Event_ID NUMBER(20) NOT NULL,
Event_Name Varchar2(50),
Event_Location Varchar2(50),
Event_StardateTime TIMESTAMP,
Event_EndDateTime TIMESTAMP,
Event_WebURL Varchar2(50),
Event_Status Varchar2(50),
Event_MediaGoogleDrive Varchar2(50),
CONSTRAINT EVENT_pk PRIMARY KEY (Event_ID)
);


CREATE TABLE CommitteeMemberType
( 
CMTypeID NUMBER(20) NOT NULL,
ACommitteePosition Varchar2(50),
TermsDuration Varchar2(50),
Notes Varchar2(50),
CONSTRAINT CommitteeMemberType_pk PRIMARY KEY (CMTypeID)
);


CREATE TABLE Course
( 
CourseID NUMBER(20) NOT NULL,
ExerciseType Varchar2(50),
CourseLocation Varchar2(50),

CONSTRAINT Course_pk PRIMARY KEY (CourseID)
);


Create Table FeeSchedule
(

FeeScheduleID Number(20),
MclassID Number,
FeeType Varchar2(50),
OneOff_Annual Varchar2(50),
OneOff_Type Varchar2(50),
Amount Varchar2(50),

CONSTRAINT FeeSchedule_pk PRIMARY KEY (FeeScheduleID),
 CONSTRAINT fk_MEMBESHIPCLASS
FOREIGN KEY (MclassID)
REFERENCES MEMBESHIPCLASS(MclassID)

)

Create Table MembershipHistory
(
MHistoryID Number(20),
MEMBER_ID Number(20),
FeeSchedule Number(20),
MStartDate Date,
MExpireDate Date,

CONSTRAINT MembershipHistory_pk PRIMARY KEY (MHistoryID),

CONSTRAINT fk_MEMBER
FOREIGN KEY (MEMBER_ID)
REFERENCES MEMBER(MEMBER_ID)

CONSTRAINT fk_FEESCHEDULE
FOREIGN KEY (FEESCHEDULEID)
REFERENCES FEESCHEDULE(FEESCHEDULEID)

);

Create Table MembershipHistory
(
MHistoryID Number(20),
MEMBER_ID Number(10),
FeeScheduleID Number(20),
MStartDate TIMESTAMP,
MExpireDate TIMESTAMP,

CONSTRAINT MembershipHistory_pk PRIMARY KEY (MHistoryID),


CONSTRAINT fk_MEMBER

    FOREIGN KEY (MEMBER_ID)

    REFERENCES MEMBER(MEMBER_ID)

);

ALTER TABLE  "MEMBERSHIPHISTORY" ADD CONSTRAINT "FK_FEESCHEDULE" FOREIGN KEY ("FEESCHEDULEID")
	  REFERENCES  "FEESCHEDULE" ("FEESCHEDULEID")




CREATE TABLE  "COURSEATTENDANCE" 
   (	"CATTENDANCEID" NUMBER(20,0), 
	"MEMBER_ID" NUMBER(10,0), 
	"COURSEID" NUMBER(20,0), 
	"ATTENDEDDATE" TIMESTAMP (6), 
	 CONSTRAINT "COURSEATTENDANCE_PK" PRIMARY KEY ("CATTENDANCEID")
  USING INDEX  ENABLE
   )
/
ALTER TABLE  "COURSEATTENDANCE" ADD CONSTRAINT "FK_COURSE" FOREIGN KEY ("COURSEID")
	  REFERENCES  "COURSE" ("COURSEID") ENABLE
/

ALTER TABLE  "COURSEATTENDANCE" ADD CONSTRAINT "FK_MEMBER" FOREIGN KEY ("MEMBER_ID")
	  REFERENCES  "MEMBER" ("MEMBER_ID")   ORA-02264: name already used by an existing constraint


Create Table EventAttendance
(
EventID Number(20),
MEMBER_ID Number(10),
CONSTRAINT EventAttendance_pk PRIMARY KEY (EventID,MEMBER_ID)
);

ALTER TABLE  "EVENTATTENDANCE" ADD CONSTRAINT "FK_MEMBER" FOREIGN KEY ("MEMBER_ID")
	  REFERENCES  "MEMBER" ("MEMBER_ID")
ORA-02264: name already used by an existing constraint


CREATE TABLE  "EventOrganising" 
   (	"EVENT_ID" NUMBER(20), 
	"MEMBER_ID" NUMBER(10), 
	"Role" Varchar2(50), 
	"Status" Varchar2(50), 
	"AssignDate" TIMESTAMP(6), 
	 CONSTRAINT "EventOrganising_PK" PRIMARY KEY ("EVENT_ID", "MEMBER_ID")


ALTER TABLE  "EventOrganising" ADD CONSTRAINT "FK_EVENT" FOREIGN KEY ("EVENT_ID")
	  REFERENCES  "EVENT" ("EVENT_ID") 

ALTER TABLE  "MEMBER" ADD CONSTRAINT "FK_EVENT" FOREIGN KEY ("MEMBER_ID")
	  REFERENCES  "MEMBER" ("MEMBER_ID")
ORA-02264: name already used by an existing constraint



CREATE TABLE Payment
（
PaymentID NUMBER(20), 
MHistoryID NUMBER(20),
CAttendanceI NUMBER(20),
Description Varchar2(50),
VotingRight Varchar2(50),
CONSTRAINT Payment_PK PRIMARY KEY (PaymentID)

）

ALTER TABLE  Payment ADD CONSTRAINT FK_MEMBERSHIPHISTORY FOREIGN KEY (MHISTORYID)
	  REFERENCES  MEMBERSHIPHISTORY (MHISTORYID)

CREATE TABLE  TrainingAssign
(    
CourseID NUMBER(20), 
MEMBER_ID NUMBER(10), 
AssignDate Date,
ExpireDate Date,	 
CONSTRAINT TrainingAssign_PK PRIMARY KEY (CourseID,MEMBER_ID,AssignDate)

)

ALTER TABLE  TrainingAssign ADD CONSTRAINT FK_COURSE FOREIGN KEY (COURSEID)
	  REFERENCES  COURSE (COURSEID) 
ORA-02264: name already used by an existing constraint



CREATE TABLE CommitteeMemberHistory
（
CMHistoryID NUMBER(20), 
MEMBER_ID NUMBER(10),
CMTypeID NUMBER(20),
CMStartDate Date,
CMExpireDate Date,
CONSTRAINT CommitteeMemberHistory_PK PRIMARY KEY (CMHistoryID)

）


ALTER TABLE  CommitteeMemberHistory ADD CONSTRAINT FK_COMMITTEEMEMBERTYPE FOREIGN KEY (CMTYPEID)
	  REFERENCES  COMMITTEEMEMBERTYPE (CMTYPEID)

CREATE TABLE Payment
（
PaymentID NUMBER(20), 
MHistoryID NUMBER(20),
CAttendanceI NUMBER(20),
Description Varchar2(50),
VotingRight Varchar2(50),
CONSTRAINT Payment_PK PRIMARY KEY (PaymentID)



）

ALTER TABLE  Payment ADD CONSTRAINT FK_MEMBERSHIPHISTORY FOREIGN KEY (MHISTORYID)
	  REFERENCES  MEMBERSHIPHISTORY (MHISTORYID)
ALTER TABLE  Payment ADD CONSTRAINT FK_COURSEATTENDANCE FOREIGN KEY (CATTENDANCEID)
	  REFERENCES  COURSEATTENDANCE (CATTENDANCEID)

A foreign key to add


ALTER TABLE  "COURSEATTENDANCE" ADD CONSTRAINT "FK_COURSE_MEMBER" FOREIGN KEY ("COURSE_MEMBER_ID")
	  REFERENCES  "MEMBER" ("MEMBER_ID")   

ALTER TABLE  "EVENTATTENDANCE" ADD CONSTRAINT "FK_EVENTATTENDANCE_MEMBER" FOREIGN KEY ("MEMBER_ID")
	  REFERENCES  "MEMBER" ("MEMBER_ID")


ALTER TABLE  "EventOrganising" ADD CONSTRAINT "FK_EventOrganising_MEMBER" FOREIGN KEY ("MEMBER_ID")
	  REFERENCES  "MEMBER" ("MEMBER_ID")

ALTER TABLE  TrainingAssign ADD CONSTRAINT FK_TrainingAssign_COURSE FOREIGN KEY (COURSEID)
	  REFERENCES  COURSE (COURSEID) 


ALTER TABLE  TrainingAssign ADD CONSTRAINT FK_TrainingAssign_MEMBER FOREIGN KEY ("MEMBER_ID")
	  REFERENCES  "MEMBER" ("MEMBER_ID") 

ALTER TABLE  CommitteeMemberHistory ADD CONSTRAINT FK_COMMITTEEMEMBERTYPE FOREIGN KEY (CMTYPEID)
	  REFERENCES  COMMITTEEMEMBERTYPE (CMTYPEID)

ALTER TABLE  "EVENTATTENDANCE" ADD CONSTRAINT "FK_EVENTATTENDANCE_EVENT" FOREIGN KEY ("EVENT_ID")
	  REFERENCES  "EVENT" ("EVENT_ID")
